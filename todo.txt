change as much pointers to references as possible